{{define "Index"}}
{{template "_head"}}
{{template "_menu"}}
<body>
  <div class="container">
    <section class="card">
      <div>
        <table class="table table-striped table-hover mb-0">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Preço</th>
              <th>Descrição</th>
              <th>Quantidade</th>
            </tr>
          </thead>
          <tbody>
            {{range .}}
              <tr>
                <td>{{.Nome}}</td>
                <td>R$ {{.Preco}},00</td>
                <td>{{.Descricao}}</td>
                <td>{{.Quantidade}}</td>
                <td>
                  <a class="btn btn-info" href="/editar?id={{.Id}}">Editar</a>
                </td>
                <td>
                  <button class="btn btn-danger" onclick="onDelete('{{.Id}}')">Deletar</button>
                </td>
              </tr>
            {{end}}
          </tbody>
        </table>
      </div>
    </section>
    <div class="card-footer">
      <a href="/novo-produto"  class="btn btn-primary mb-2">Novo Produto</a>
    </div>
  </div>
</body>

<script>
  function onDelete(id){
    let resp = confirm("Deseja deletar esse produto?")
    if (resp){
      window.location = `/delete?id=${id}`
    }
  }
</script>
</html>
{{end}}